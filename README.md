# 파일 공통 모듈(수정)
- 고려할점 
    - 같은 명칭의 파일을 같은 경로로 올렸을 경우 기존 파일이 덮어씌어지는 문제해결
    - 중복없는 파일명으로 변환해서 파일을 업로드 -> 혹시라도 다운로드 하는 기능을 만든다면? 일반적인 요구사항은 파일명이 변경되서 서버로 업로드 된다더라도 업로드 시점의 파일명으로 다운로드 되기를 원한다.
    - 파일 업로드 전, 파일 정보를 DB에 기록, 추가될때 생성된 증감번호(seq)로 파일명을 변경해서 서버로 저장
    - 하나의 폴더에 너무 많은 파일이 있으면 조회시 느려진다. -> 분산해서 저장
    - 10의 나머지를 구하면 0~9, 0~9로 폴더를 생성하고 분산해서 저장 
  - 파일 정보 저장 -> 파일 업로드 완료
- 게시글 1개  - 그룹 (gid)
  - 에디터에 첨부하는 이미지 - 위치(에디터)  - location 
  - 다운로드를 위한 첨부 파일 - 위치(첨부파일)
  
- 상품 1개 - 그룹 
  - 메인 이미지 - 메인위치
  - 목록 이미지 - 목록 위치 
  - 상세 설명 이미지 .. - 설명 위치

### @CreatedBy : 로그인한 사용자의 정보 자동 기록
- AuditorAware 인터페이스 구현
    - 자동으로 @CreatedBy에 설정될 로그인한 회원정보가 무엇인지를 설정

### 파일 다운로드 
- 브라우저의 출력 방향을 웹브라우저가 아니라 특정 파일명으로 변경하면 다운로드가 된다.
- 응답 헤더 : Content-Disposition: attachment; filename=파일명
  - 바디에 출력되는 데이터가 파일명으로 다운로드 된다.

### 썸네일 생성 
- 경로 
- uploads/thumbs/1/너비_높이_1.jpg
- 같은 경로에 같은 너비, 높이의 썸네일이 있으면 따로 생성 X